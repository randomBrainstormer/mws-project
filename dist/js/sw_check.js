let deferredPrompt;"serviceWorker"in navigator&&window.addEventListener("load",function(){navigator.serviceWorker.register("service_worker.js").then(function(e){return console.log("ServiceWorker registration successful with scope: ",e.scope),e.sync.getTags()}).then(function(e){e.includes("syncReviews")&&console.log("There's already a background sync pending")}).catch(function(e){console.log("ServiceWorker registration failed: ",e)})}),window.addEventListener("beforeinstallprompt",e=>{e.preventDefault(),e.prompt(),deferredPrompt.userChoice.then(e=>{"accepted"===e.outcome?console.log("User accepted the A2HS prompt"):console.log("User dismissed the A2HS prompt"),deferredPrompt=null})}),window.addEventListener("appinstalled",e=>{app.logEvent("a2hs","installed")});